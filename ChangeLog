2007-11-08  Mathias Hasselmann  <mathias@openismus.com>

	Use more descriptive property names for EpcPublisher.

	* docs/reference/libepc/libepc-sections.txt,
	libepc/publisher.c, libepc/publisher.h,
	tests/test-consumer-by-name.c: Update property names.

2007-11-08  Mathias Hasselmann  <mathias@openismus.com>

	Rename epc_tls_privkey_* functions to epc_tls_private_key_*,
	which results in same symbol length for private key and
	equivalent certificate functions.

	* docs/reference/libepc/libepc-sections.txt: Updating symbols.
	* libepc/tls.c, libepc/tls.h, libepc-ui/entropy-progress.c:
	Rename epc_tls_privkey_* functions to epc_tls_private_key_*.

2007-11-08  Mathias Hasselmann  <mathias@openismus.com>

	Rename EpcPublication to EpcResource in EpcPublisher.

	* libepc/publisher.c: Rename EpcPublication to EpcResource.

2007-11-08  Mathias Hasselmann  <mathias@openismus.com>

	Show a progress window when generating new keys.

	* examples/server-credentials.c: Use EpcEntropyProgress.
	* libepc-ui/passworddialog.c, libepc-ui/passworddialog.h,
	examples/test-consumer.c: Rename files to password-dialog.
	* libepc/tls.c, libepc/tls.h: Add epc_tls_privkey_set_hooks which
	allows showing of a progress window when generating private keys.
	* libepc-ui/entropy-progress.c, libepc-ui/entropy-progress.h,
	Makefile.am: Add EpcEntropyProgress, which can be shown when
	generating keys.

2007-11-07  Mathias Hasselmann  <mathias@openismus.com>

	Create simple API for creating, storing and loading server keys.

	* configure.in: Add gnutls package.
	* libepc/tls.c, libepc/tls.h: Simple server key API.
	* examples/.gitignore: Add server-credentials
	* examples/server-credentials.c: Demonstrate how to
	retreive self-signed SSL/TLS server credentials.
	* docs/reference/libepc/libepc-docs.sgml: Add new chapters.
	* docs/reference/libepc/libepc-sections.txt: Add new symbols.
	* Makefile.am: Add libepc/tls.c, libepc/tls.h and
	examples/server-credentials.c.

2007-11-06  Mathias Hasselmann  <mathias@openismus.com>

	Prevent that make tries to build API docs before building the library.

	* Makefile.am: Explicitly list the rules of gtk-doc.make.

2007-11-06  Mathias Hasselmann  <mathias@openismus.com>

	Prevent that repeated calls of epc_test_quit kills the EpcShell.

	* libepc/shell.c: Trace epc_shell_ref/unref when EPC_DEBUG is set.
	* tests/framework.c: Try to call epc_shell_unref only once.
	* tests/test-dispatcher-simple-service.c: Your changes...

2007-11-06  Mathias Hasselmann  <mathias@openismus.com>

	Remove g_debug calls in test-consumer-by-name.

	* tests/test-consumer-by-name.c: Remove g_debug calls.

2007-11-06  Mathias Hasselmann  <mathias@openismus.com>

	Add gdk_threads hooks to inspect #494173.

	* examples/test-consumer.c: Add gdk_threads hooks to inspect #494173.

2007-11-06  Mathias Hasselmann  <mathias@openismus.com>

	* libepc/consumer.c, libepc/consumer.h: Add epc_consumer_new_for_name
	and epc_consumer_new_for_name_full for connecting by service name.
	* libepc/dispatcher.c: Use external _epc_debug variable.
	* libepc/shell.c: Provide _epc_debug variable.
	* tests/test-consumer-by-name: Test epc_consumer_new_for_name.
	* Makefile.am, tests/.gitignore: Add tests/test-consumer-by-name.

2007-11-06  Mathias Hasselmann  <mathias@openismus.com>

	Try to prevent dead-locks with GDK when entering main loops.

	* configure.in: Add gmodule-2.0 as dependency.
	* libepc/shell.c, libepc/shell.h: Add epc_shell_leave and
	epc_shell_enter which deal with GDK's big lock when needed.
	* libepc/dispatcher.c: Call epc_shell_unref in finalize, not dispose.
	* libepc/consumer.c: Unlock when calling soup_session_send_message.
	* tests/framework.c: Unlock when calling g_main_loop_run.

2007-11-06  Mathias Hasselmann  <mathias@openismus.com>

	Also commit services when not adding any subtypes.

	* libepc/dispatcher.c: Also schedule commmit from epc_service_publish.

2007-11-06  Mathias Hasselmann  <mathias@openismus.com>

	Rename EpcAvahiShell to EpcShell.

	* libepc/dispatcher.c, libepc/publisher.c, libepc/shell.c,
	libepc/shell.h, Makefile.am, tests/framework.c:
	Rename EpcAvahiShell to EpcShell.

2007-11-06  Mathias Hasselmann  <mathias@openismus.com>

	Permit access when no authentication handler is installed.

	* libepc/publisher.c: Let epc_publisher_server_auth_cb return TRUE,
	when no authentication handler is found to permit access in that case.

2007-11-06  Mathias Hasselmann  <mathias@openismus.com>

	Announce program name based service type.

	* libepc/publisher.c: Announce program name based service type.
	* libepc/dispatcher.c: Move commit step into idle function.
	* libepc/avahi-shell.c, libepc/avahi-shell.h:
	Provide epc_avahi_shell_create_service_type for creating
	program name based service types.

2007-11-06  Mathias Hasselmann  <mathias@openismus.com>

	Introduce common API for managing basic, shareable Avahi infrastructure.

	* libepc/avahi-shell.c, libepc/avahi-shell.h: Introduce EpcAvahiShell.
	* libepc/dispatcher.c, tests/framework.c: Use EpcAvahiShell.
	* Makefile.am: Add libepc/avahi-shell.c and libepc/avahi-shell.h.

2007-11-05  Mathias Hasselmann  <mathias@openismus.com>

	Merge password dialog from the libank experiment.

	* libepc-ui/passworddialog.c, libepc-ui/passworddialog.h:
	Merge password dialog from the libank experiment.
	* examples/test-consumer.c: Use EpcPasswordDialog.
	* configure.in, Makefile.am, libepc-ui.pc.in, libepc-ui/.gitignore:
	Add shared libepc-ui library containing libepc specific widgets.
	* libepc.pc.in: Correct the cflags property.
	* tests/.gitignore: Add *.loT

2007-11-05  Mathias Hasselmann  <mathias@openismus.com>

	Document authentication mechanism and add "reauthenticate" signal.

	* docs/reference/libepc/libepc-sections.txt, libepc/publisher.c,
	libepc/publisher.h: Document authentication mechanism.
	* libepc/consumer.c: Document authentication mechanism
	and add "reauthenticate" signal.

2007-11-05  Mathias Hasselmann  <mathias@openismus.com>

	Implement authentication for EpcPublisher and EpcConsumer.

	* examples/test-consumer.c: Demonstrate authentication callback.
	* examples/test-publisher.c: Demonstrate publishing of sensitive data.
	* libepc/consumer.c, libepc/consumer.h: Add "authenticate" signal.
	* libepc/marshal.list: Add marshaller for "authenticate" signal.
	* libepc/.gitignore: Add generated files marshal.c and marshal.h.
	* Makefile.am: Add marshal.c, marshal.h and code to generate them.
	* libepc/publisher.c, libepc/publisher.h: Implement authentication
	by adding epc_publisher_set_auth_handler and EpcAuthContext.

2007-11-05  Mathias Hasselmann  <mathias@openismus.com>

	Demonstrate epc_publisher_add_handler.

	* examples/test-publisher.c: Demonstrate epc_publisher_add_handler.

2007-11-05  Mathias Hasselmann  <mathias@openismus.com>

	Move examples into separate folder.

	* examples/.gitignore, Makefile.am, tests/.gitignore:
	Moved test-consumer and test-publisher from tests to examples.
	* tests/test-consumer.c, tests/test-publisher.c: Moved to examples.

2007-11-05  Mathias Hasselmann  <mathias@openismus.com>

	Document epc_publisher_add_handler and related API.

	* docs/reference/libepc/libepc-sections.txt:
	Rename EpcPublisherHandler to EpcContentHandler.
	* libepc/publisher.c: Document epc_publisher_add_handler
	and EpcContent with its methods.
	* libepc/publisher.h: Document EpcContentHandler.

2007-11-05  Mathias Hasselmann  <mathias@openismus.com>

	Implement epc_publisher_add_handler.
	Rewrite epc_publisher_add and epc_publisher_add_file to use it.

	* docs/reference/libepc/libepc-sections.txt, libepc/publisher.c,
	libepc/publisher.h: Add epc_publisher_add_handler and EpcContent.
	* tests/test-publisher.c: Remove obsolete error variable.

2007-11-04  Mathias Hasselmann  <mathias@openismus.com>

	Document the property accessors of EpcDispatcher.

	* docs/reference/libepc/libepc-sections.txt,
	libepc/dispatcher.c: Document the property accessors.

2007-11-04  Mathias Hasselmann  <mathias@openismus.com>

	Implement regression tests for the EpcDispatcher.

	* Makefile.am, tests/.gitignore: Add regression tests.
	* tests/framework.c, tests/framework.h: Common test code.
	* tests/test-runner.sh: Redirect output of regression tests.
	* tests/test-dispatcher-simple-service.c: Test a single service.
	* tests/test-dispatcher-multiple-services.c: Test registering
	of multiple services on a single dispatcher.
	* tests/test-dispatcher-subtypes.c: Test service subtypes.
	* tests/test-dispatcher-local-collision.c: Test automatic handling
	of local service name collisions.
	* libepc/dispatcher.c, libepc/dispatcher.h:
	Add getter methods for properties of the EpcDispatcher.

2007-11-03  Mathias Hasselmann  <mathias@openismus.com>

	Implement regression testing for EpcDispatcher.

	* Makefile.am, tests/.gitignore: Add tests/test-dispatcher-001.c.
	* tests/test-dispatcher-001.c: Regression test for EpcDispatcher.

2007-11-03  Mathias Hasselmann  <mathias@openismus.com>

	Handle local collisions.

	* libepc/dispatcher.c: Handle local collisions.

2007-11-02  Mathias Hasselmann  <mathias@openismus.com>

	Fix property assertions in EpcPublisher.

	* libepc/publisher.c: Fix property assertions

2007-11-02  Mathias Hasselmann  <mathias@openismus.com>

	Guard g_debug statements by epc_debug flag, which can by enabled
	by setting the EPC_DEBUG environment variable.

	* libepc/dispatcher.c: Guard g_debug statements.

2007-11-02  Mathias Hasselmann  <mathias@openismus.com>

	Adjust indenting for consumer.h

	* libepc/consumer.h: Adjust indenting.

2007-11-02  Mathias Hasselmann  <mathias@openismus.com>

	Improve API documentation and examples.

	* libepc/consumer.c, libepc/dispatcher.c, libepc/publisher.c:
	Improve API documentation.
	* tests/test-consumer.c, tests/test-publisher.c: Insert code comments
	as those files serve as examples and document command line arguments.
	* docs/reference/libepc/libepc-sections.txt:
	Remove EPC_PUBLISHER_SERVICE_NAME.

2007-11-02  Mathias Hasselmann  <mathias@openismus.com>

	Split EPC_PUBLISHER_SERVICE_NAME into EPC_SERVICE_NAME,
	EPC_SERVICE_NAME_HTTP and EPC_SERVICE_NAME_HTTPS.

	* libepc/publisher.h: Remove EPC_PUBLISHER_SERVICE_NAME.
	* libepc/service-names.h, docs/reference/libepc/libepc-docs.sgml,
	docs/reference/libepc/libepc-sections.txt: Introduce
	EPC_SERVICE_NAME, EPC_SERVICE_NAME_HTTP and EPC_SERVICE_NAME_HTTPS.
	* libepc/publisher.c: Use EPC_SERVICE_NAME_HTTP
	instead of EPC_PUBLISHER_SERVICE_NAME.
	* tests/test-consumer.c: Use EPC_SERVICE_NAME
	instead of EPC_PUBLISHER_SERVICE_NAME.

2007-11-02  Mathias Hasselmann  <mathias@openismus.com>

	Change library name to libepc.

	* docs/reference/libepc/Makefile.am, libepc.pc.in,
	Makefile.am: Change library name to libepc.

2007-11-02  Mathias Hasselmann  <mathias@openismus.com>

	Tell automake to install developer files.

	* Makefile.am: Install header files and pkg-config information.
	* configure.in, libepc.pc.in: Provide pkg-config information.
	* .gitignore: Ignore libepc.pc.

2007-11-02  Mathias Hasselmann  <mathias@openismus.com>

	Add copyright headers.

2007-11-02  Mathias Hasselmann  <mathias@openismus.com>

	Document EpcDispatcher and provide examples.

	* docs/reference/libepc/.gitignore: Remove libepc-sections.txt.
	* docs/reference/libepc/libepc-sections.txt: Add *Class
	structures as requested by the gtk-doc tool.
	* libepc/consumer.c, libepc/consumer.h, libepc/publisher.c,
	libepc/publisher.h: Add examples and document *Class structures.
	* libepc/dispatcher.c, libepc/dispatcher.h: Document EpcDispatcher.

2007-11-02  Mathias Hasselmann  <mathias@openismus.com>

	Provide some initial API documentation.

	* docs/reference/libepc/Makefile.am: Force rebuilding
	of documentation when the code changes.
	* docs/reference/libepc/.gitignore: Ignore *.bak files.
	* libepc/consumer.c, libepc/consumer.h: Some initial documentation.
	* libepc/publisher.c, libepc/publisher.h: Some initial documentation.
	Rename EPC_PUBLISHER_SERVICE_TYPE to EPC_PUBLISHER_SERVICE_NAME.
	* tests/test-consumer.c: Rename EPC_PUBLISHER_SERVICE_TYPE to
	EPC_PUBLISHER_SERVICE_NAME.

2007-11-01  Mathias Hasselmann  <mathias@openismus.com>

	Integrate gtk-doc for API documentation.

	* configure.in, Makefile.am: Integrate gtk-doc for API documentation.
	* gtk-doc.make, docs/reference/libepc/*: Setup gtk-doc infrastructure.

2007-11-01  Mathias Hasselmann  <mathias@openismus.com>

	Handle construct-only properties more stricly.

	* libepc/dispatcher.c, libepc/publisher.c: Assert fields are NULL
	instead of releasing their data, when setting construct-only
	properties.

2007-11-01  Mathias Hasselmann  <mathias@openismus.com>

	Implement the consumer.

	* libepc/consumer.c, libepc/consumer.h: Really implement the consumer.
	* tests/test-consumer.c: Use the consumer API.

2007-11-01  Mathias Hasselmann  <mathias@openismus.com>

	Start the consumer by merging the document-server's client test.

	* tests/test-consumer.c: Just copy the document-server's client test.

2007-11-01  Mathias Hasselmann  <mathias@openismus.com>

	Implement EpcDispatcher, an easy to use ZeroConf dispatcher.

	* configure.in, Makefile.am: Separatly checking for
	avahi-ui which is used by tests/test-consumer only.
	* libepc/dispatcher.c, libepc/dispatcher.h: Implement an
	easy to use ZeroConf service dispatcher on top of Avahi.
	* libepc/publisher.c, libepc/publisher.h: Use the new dispatcher.
	* tests/test-publisher.c: Use the new dispatcher.
	Change key-name for the source-code record.

2007-10-31  Mathias Hasselmann  <mathias@openismus.com>

	Initial commit of the Easy Publish and Consume library.

